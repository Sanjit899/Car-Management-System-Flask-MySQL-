{% extends 'layout.html' %}
{% block title %}Dashboard{% endblock %}

{% block content %}
<style>
  /* ===== Dashboard Page Styling ===== */
  h2, h4 {
    color: #00d9ff;
    text-shadow: 1px 1px 5px black;
    margin-bottom: 20px;
  }

  .card {
    background: rgba(0, 0, 0, 0.75);
    border-radius: 15px;
    padding: 20px;
    text-align: center;
    color: #fff;
    box-shadow: 0 4px 20px rgba(0, 217, 255, 0.3);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .card:hover {
    transform: scale(1.03);
    box-shadow: 0 6px 25px rgba(0, 217, 255, 0.5);
  }

  .card h5 {
    font-size: 1.2rem;
    color: #00d9ff;
    margin-bottom: 10px;
  }

  .card p {
    font-size: 1.5rem;
    font-weight: bold;
    margin-bottom: 15px;
  }

  .btn-primary {
    background-color: #00d9ff;
    border: none;
    transition: background-color 0.3s ease;
  }

  .btn-primary:hover {
    background-color: #00a3cc;
    color: #fff;
  }

  /* ===== Recent Bookings Table ===== */
  table {
    background: rgba(0, 0, 0, 0.75);
    color: #fff;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 4px 15px rgba(0, 217, 255, 0.3);
  }

  table th, table td {
    text-align: center;
    vertical-align: middle;
  }

  table th {
    background: rgba(0, 217, 255, 0.3);
    color: #000;
    font-weight: 600;
  }

  table tbody tr:hover {
    background: rgba(0, 217, 255, 0.2);
  }

  /* ===== Layout ===== */
  .row {
    margin-bottom: 25px;
  }

  @media (max-width: 768px) {
    .row > div {
      margin-bottom: 20px;
    }
  }
</style>

<h2>Admin Dashboard</h2>

<div class="row">
  <div class="col-md-3 mb-3">
    <div class="card">
      <h5>Cars</h5>
      <p>{{ total_cars }}</p>
      <a class="btn btn-sm btn-primary" href="{{ url_for('view_cars') }}">Manage</a>
    </div>
  </div>

  <div class="col-md-3 mb-3">
    <div class="card">
      <h5>Customers</h5>
      <p>{{ total_customers }}</p>
      <a class="btn btn-sm btn-primary" href="{{ url_for('view_customers') }}">Manage</a>
    </div>
  </div>

  <div class="col-md-3 mb-3">
    <div class="card">
      <h5>Bookings</h5>
      <p>{{ total_bookings }}</p>
      <a class="btn btn-sm btn-primary" href="{{ url_for('view_bookings') }}">Manage</a>
    </div>
  </div>

  <div class="col-md-3 mb-3">
    <div class="card">
      <h5>Services</h5>
      <p>{{ total_services }}</p>
      <a class="btn btn-sm btn-primary" href="{{ url_for('view_services') }}">Manage</a>
    </div>
  </div>
</div>

<h4>Recent Bookings</h4>
<div class="table-responsive">
  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th>ID</th>
        <th>Car</th>
        <th>Customer</th>
        <th>Period</th>
        <th>Total</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody>
      {% for b in recent_bookings %}
      <tr>
        <td>{{ b.id }}</td>
        <td>{{ b.car_name }}</td>
        <td>{{ b.customer_name }}</td>
        <td>{{ b.start_date }} to {{ b.end_date }}</td>
        <td>{{ b.total_cost }}</td>
        <td>{{ b.status }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
